<h1 mat-dialog-title>Edit User</h1>
<form [formGroup]="userForm" (submit)="onSubmit($event)">
	<mat-dialog-content>
		<mat-form-field>
			<mat-label>Name</mat-label>
			<input matInput placeholder="User Name" formControlName="name" name="name" />
			<mat-error [hidden]="(userFormControl.name.touched) && userFormControl.name.errors?.required">
				Name is required
			</mat-error>
			<mat-icon matPrefix>account_circle</mat-icon>
		</mat-form-field>

		<mat-form-field>
			<mat-label>Email</mat-label>
			<input matInput placeholder="User email" type="email" formControlName="email" name="email" />
			<mat-error [hidden]="(userFormControl.email.touched) && userFormControl.email.errors?.required">
				Email is required
			</mat-error>
			<mat-error
				[hidden]="(userFormControl.email.touched) && (userFormControl.email.errors?.email ||  userFormControl.email.errors?.pattern)">
				Invalid email.
			</mat-error>
			<mat-icon matPrefix>email</mat-icon>
		</mat-form-field>

		<mat-form-field>
			<mat-label>Role</mat-label>
			<mat-select formControlName="role" name="role">
				<mat-option *ngFor="let role of roles" [value]="role._id">
					{{ role.name | titlecase }}
				</mat-option>
			</mat-select>
			<mat-error [hidden]="(userFormControl.role.touched) && userFormControl.role.errors?.required">
				Role is required
			</mat-error>
			<mat-icon matPrefix>admin_panel_settings</mat-icon>
		</mat-form-field>

	</mat-dialog-content>
	<mat-dialog-actions>
		<button mat-button color="primary" type="submit" [disabled]="!userForm.valid">
			<mat-icon>check</mat-icon>
			Update
		</button>
		<button mat-button color="accent" type="button" (click)="onClose()">
			<mat-icon>cancel</mat-icon>
			Cancel
		</button>
	</mat-dialog-actions>
</form>